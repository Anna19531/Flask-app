{% extends "layout.html" %}
{% block content %}

<h2 class = "h2"> Profile </h2>

{% with messages = get_flashed_messages(with_categories=true) %} 
        {% if messages %}
            <ul class=flashes>
            {% for category, message in messages %}
            <li class = "{{ category }}">{{ message }}</li>
            {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

<p> Username: {{ username_original }} </p>
<p> Email: {{ email_original }} </p>

<h4> Settings </h4>

<form method = "POST" action = "/profile" class = "form">
    <h4> Change Password </h4>
    <input type = hidden name = "action" value = "password">
    <input type = password name = "password" placeholder = "New Password"> </input>
    <input type = password name = "password2" placeholder = "Confirm New Password"> </input>
    <input type = submit value = "Save">
</form>

<form method = "POST" action = "/profile">
    <h4> Change Username </h4>
    <input type = hidden name = "action" value = "username">
    <input type = text name = "username" placeholder = "New Username"> </input>
    <input type = submit value = "Save">
</form>

<form method = "POST" action = "/profile">
    <h4> Change Email </h4>
    <input type = hidden name = "action" value = "email">
    <input type = email name = "email" placeholder = "New Email"> </input>
    <input type = submit value = "Save">
</form>

<div class="select">
    <select class="select__input" id="selTheme" onchange = "applyTheme()">
        <option value="auto">Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</div>

{% endblock %}

